<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>conversion.py</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>conversion.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <h2>Imports</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>  <span class="c1"># for calculations</span>
<span class="kn">import</span> <span class="nn">os</span>  <span class="c1"># for paths and directories</span>
<span class="kn">import</span> <span class="nn">zipfile</span>  <span class="c1"># to handle .zip files (.qua and .osz)</span>

<span class="kn">import</span> <span class="nn">yaml</span>  <span class="c1"># to parse .yaml files (.qua)</span>

<span class="kn">from</span> <span class="nn">constants</span> <span class="kn">import</span> <span class="o">*</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <h2>Functions</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <p>Parses the .qua (.yaml) difficulty file into an object using the PyYaml module</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">loadQua</span><span class="p">(</span><span class="n">fileContent</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">qua</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">fileContent</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">qua</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p>def cleanPath(path: str) -&gt; str:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="c1">#     &quot;&quot;&quot;Cleans the path by removing illegal characters and replacing spaces with underscores *(currently unused)*&quot;&quot;&quot;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <pre><code>path = REGEX_ILLEGAL_CHARACTERS.sub("", path)
path = path.replace(" ", "_")
return path
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <h3>General</h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <pre><code>lines = ["[General]"]
generalRenames = RENAMES["general"]
generalDefaultValues = DEFAULT_VALUES["general"]

sampleSet = options["sampleSet"]
lines.append(f"SampleSet: {sampleSet}")

# Attributes that exist in both games but are named differently
for element in RENAMES["general"]:
</code></pre>
<p>if element in qua:  # Exception case when AudioPreview doesn&rsquo;t exist
       lines.append(f&rdquo;{generalRenames[element]}: {qua[element]}&rdquo;)</p>
<pre><code>for attribute in generalDefaultValues:
</code></pre>
<p>lines.append(f&rdquo;{attribute}: {generalDefaultValues[attribute]}&rdquo;)</p>
<pre><code>return "\n".join(lines)
</code></pre>
<h1>### Editor</h1>
<p>def convertEditor() -&gt; str:
Generates the [Editor] section of the .osu</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">convertGeneral</span><span class="p">(</span><span class="n">qua</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s2">&quot;&quot;&quot;Generates the [General] section of the .osu</span>

<span class="s2">    Currently generates following attributes:</span>

<span class="s2">    - AudioFilename</span>
<span class="s2">    - AudioLeadIn</span>
<span class="s2">    - PreviewTime</span>
<span class="s2">    - SampleSet</span>
<span class="s2">    - StackLeniency</span>
<span class="s2">    - Mode</span>
<span class="s2">    - LetterboxInBreaks</span>
<span class="s2">    - SpecialStyle</span>
<span class="s2">    - WidescreenStoryboard</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Currently generates following attributes:</span>

<span class="s2">    - Bookmarks</span>
<span class="s2">    - DistanceSpacing</span>
<span class="s2">    - BeatDivisor</span>
<span class="s2">    - GridSize</span>
<span class="s2">    - TimelineZoom</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Currently generates following attributes:</span>

<span class="s2">    - AudioFile</span>
<span class="s2">    - Artist</span>
<span class="s2">    - ArtistUnicode</span>
<span class="s2">    - Title</span>
<span class="s2">    - TitleUnicode</span>
<span class="s2">    - Source</span>
<span class="s2">    - Creator</span>
<span class="s2">    - Tags</span>
<span class="s2">    - BeatmapID</span>
<span class="s2">    - BeatmapSetID</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Currently generates following attributes:</span>

<span class="s2">    - HPDrainRate</span>
<span class="s2">    - CircleSize</span>
<span class="s2">    - OverallDifficulty</span>
<span class="s2">    - ApproachRate</span>
<span class="s2">    - SliderMultiplier</span>
<span class="s2">    - SliderTickrate</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Background syntax: `0,0,filename,0,0`</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Structure of a timing point:</span>
<span class="s2">    [time,beatLength,meter,sampleSet,sampleIndex,volume,uninherited,effects]</span>

<span class="s2">    - time (int)</span>
<span class="s2">        - Start time of the timing section, in milliseconds from the</span>
<span class="s2">        beginning of the beatmap&#39;s audio. The end of the timing section</span>
<span class="s2">        is the next timing point&#39;s time (or never, if this is the</span>
<span class="s2">        last timing point).</span>

<span class="s2">    - beatLength : float</span>
<span class="s2">        - For uninherited timing points, the duration of a beat, in</span>
<span class="s2">            milliseconds.</span>
<span class="s2">        - For inherited timing points, a negative inverse slider</span>
<span class="s2">            velocity multiplier, as a percentage. For example, -50 would</span>
<span class="s2">            make all sliders in this timing section twice</span>
<span class="s2">            as fast as SliderMultiplier.</span>

<span class="s2">    - meter (int)</span>
<span class="s2">        - Amount of beats in a measure. Inherited timing points ignore</span>
<span class="s2">        this property.</span>

<span class="s2">    - sampleSet (int)</span>
<span class="s2">        - Default sample set for hit objects (0 = beatmap default,</span>
<span class="s2">        1 = normal, 2 = soft, 3 = drum).</span>

<span class="s2">    - sampleIndex (int)</span>
<span class="s2">        - Custom sample index for hit objects. 0 indicates osu!&#39;s default</span>
<span class="s2">        hit sounds.</span>

<span class="s2">    - volume (int)</span>
<span class="s2">        - Volume percentage for hit objects.</span>

<span class="s2">    - uninherited (0 or 1)</span>
<span class="s2">        - Whether or not the timing point is uninherited.</span>

<span class="s2">    - effects (int:int:...)</span>
<span class="s2">        - Bit flags that give the timing point extra effects.</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    - Types:</span>
<span class="s2">        - 1 &lt;&lt; 0 : Hit circle (normal note in osu!mania)</span>
<span class="s2">        - 1 &lt;&lt; 1 : Slider (unused in osu!mania)</span>
<span class="s2">        - 1 &lt;&lt; 3 : Spinner (unused in osu!mania)</span>
<span class="s2">        - 1 &lt;&lt; 7 : osu!mania hold (commonly referred to as long note or LN)</span>

<span class="s2">    - Structure of a normal hit object:</span>
<span class="s2">        - [x,y,time,type,hitSound,objectParams,hitSample]</span>
<span class="s2">        - x (int)</span>
<span class="s2">            - Determines the index of the column that the note will be in.</span>
<span class="s2">            It is computed by floor(x * columnCount / 512) and</span>
<span class="s2">            clamped between 0 and columnCount - 1.</span>
<span class="s2">        - y (int)</span>
<span class="s2">            - Unused in osu!mania, defaults to 192</span>
<span class="s2">        - time (int)</span>
<span class="s2">            - Time when the object is to be hit, in milliseconds from</span>
<span class="s2">            the beginning of the beatmap&#39;s audio.</span>
<span class="s2">        - type (int)</span>
<span class="s2">            - Bit flags indicating the type of the object.</span>
<span class="s2">       - hitSound (int,int,...)</span>
<span class="s2">            - Extra parameters specific to the object&#39;s type.</span>
<span class="s2">        - objectParams</span>
<span class="s2">            - Extra parameters specific to the object&#39;s type.</span>
<span class="s2">        - hitSample (int)</span>
<span class="s2">            - bitwise flag</span>

<span class="s2">    - Structure of a LN:</span>
<span class="s2">        - [x,y,time,type,hitSound,endTime:hitSample]</span>
<span class="s2">        - endTime (int)</span>
<span class="s2">            - End time of the hold, in milliseconds from the</span>
<span class="s2">            beginning of the beatmap&#39;s audio.</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    All parts are split into different sections, defined by the .osu structure:</span>

<span class="s2">    - General</span>
<span class="s2">        - Contains general settings</span>
<span class="s2">    - Editor</span>
<span class="s2">        - Contains editor related settings</span>
<span class="s2">    - Metadata</span>
<span class="s2">        - Contains the metadata of the beatmap</span>
<span class="s2">    - Difficulty</span>
<span class="s2">        - Contains difficulty related settings</span>
<span class="s2">    - Events</span>
<span class="s2">        - Contains the background file name</span>
<span class="s2">    - TimingPoints</span>
<span class="s2">        - Contains the timing</span>
<span class="s2">    - HitObjects</span>
<span class="s2">        - Contains the hit objects (notes)</span>
<span class="s2">#DIVIDER</span>

<span class="s2">    Moves all files to a new directory and converts all .qua files to .osu files</span>

<span class="s2">    This function is called in the GUI.</span>

<span class="s2">    Options parameter is built up as following:</span>

<span class="s2">        options = {</span>
<span class="s2">            &quot;od&quot;: int,</span>
<span class="s2">            &quot;hp&quot;: int,</span>
<span class="s2">            &quot;hitSoundVolume&quot;: int,</span>
<span class="s2">            &quot;sampleSet&quot;: [&quot;Soft&quot;,&quot;Normal&quot;,&quot;Drum&quot;]</span>
<span class="s2">        }</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <pre><code>lines = ["[Editor]"]
editorDefaultValues = DEFAULT_VALUES["editor"]

for attribute in editorDefaultValues:
</code></pre>
<p>lines.append(f&rdquo;{attribute}: {editorDefaultValues[attribute]}&rdquo;)</p>
<pre><code>return "\n".join(lines)
</code></pre>
<h1>### Metadata</h1>
<p>def convertMetadata(qua: object) -&gt; str:
Generates the [Metadata] section of the .osu</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <pre><code>lines = ["[Metadata]"]
metadataRenames = RENAMES["metadata"]
metadataDefaultValues = DEFAULT_VALUES["metadata"]

for element in qua:
</code></pre>
<p># Attributes that exist in both games and are named the same
   if element in [&ldquo;Artist&rdquo;, &ldquo;Title&rdquo;, &ldquo;Source&rdquo;, &ldquo;Creator&rdquo;]:
       lines.append(f&rdquo;{element}:{qua[element]}&rdquo;)</p>
<pre><code>   # osu! uses ArtistUnicode and TitleUnicode attributes
   # to provide a romanized version of them. Since
   # Quaver doesn't really work with them, they can be set
   # to the same as the regular artist and title attribute
   if element in ["Artist", "Title"]:
       lines.append(f"{element}Unicode:{qua[element]}")
</code></pre>
<p># Attributes that exist in both games but are named differently
   elif element in metadataRenames:
       lines.append(f&rdquo;{metadataRenames[element]}:{qua[element]}&rdquo;)</p>
<p># Adding Quaver to tags additionally to the already existing
   # tags in the .qua
   elif element == &ldquo;Tags&rdquo;:
       tags = qua[&ldquo;Tags&rdquo;]
       lines.append(f&rdquo;Tags:Quaver {tags}&rdquo;)</p>
<pre><code>for attribute in metadataDefaultValues:
</code></pre>
<p>lines.append(f&rdquo;{attribute}:{metadataDefaultValues[attribute]}&rdquo;)</p>
<pre><code>return "\n".join(lines)
</code></pre>
<h1>### Difficulty</h1>
<p>def convertDifficulty(qua: object, options: object) -&gt; str:
Generates the [Difficulty] section of the .osu</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <pre><code>lines = ["[Difficulty]"]
difficultyDefaultValues = DEFAULT_VALUES["difficulty"]

# Mode is provided either as "Keys4" or "Keys7", so this
# extracts the number 4 or 7
keyCount = qua["Mode"][-1:]
od = options["od"]
hp = options["hp"]

# osu!mania uses Circle Size to save the key count
lines.append(f"CircleSize: {keyCount}")
lines.append(f"OverallDifficulty: {od}")
lines.append(f"HPDrainRate: {hp}")

for attribute in difficultyDefaultValues:
</code></pre>
<p>lines.append(f&rdquo;{attribute}: {difficultyDefaultValues[attribute]}&rdquo;)</p>
<pre><code>return "\n".join(lines)
</code></pre>
<h1>### Events</h1>
<p>def convertEvents(qua: object) -&gt; str:
Generates the [Events] section of the .osu (only background)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <pre><code>lines = ["[Events]"]
lines.append(f'0,0,"{qua["BackgroundFile"]}",0,0')

return "\n".join(lines)
</code></pre>
<h1>### Timing Points</h1>
<p>def convertTimingPoints(qua: object, options: object) -&gt; str:
Generates the [TimingPoints] section of the .osu</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <pre><code>lines = ["[TimingPoints]"]
hitSoundVolume = options["hitSoundVolume"]

# Converts each timing point
for timingPoint in qua["TimingPoints"]:
</code></pre>
<p># If any value is 0 then Quaver doesn&rsquo;t print it in the qua
   startTime = timingPoint.get(&ldquo;StartTime&rdquo;, 0)
   bpm = timingPoint.get(&ldquo;Bpm&rdquo;, 0)</p>
<p>if bpm &lt;= 0:  # 0.0x BPM or negative BPM
       # osu! can&rsquo;t really work with negative BPM and working with 0
       # BPM is a pain by itself, so I&rsquo;m substituting the value
       # with very low bpm value (0.000006 BPM) instead. It still shows as
       # 0 BPM in song select though, because of rounding.
       msPerBeat = -10e10
   else:
       msPerBeat = 60000 / bpm</p>
<p>lines.append(f&rdquo;{startTime},{msPerBeat},4,0,0,{hitSoundVolume},1,0&rdquo;)</p>
<pre><code># Converts each SV point
for sv in qua["SliderVelocities"]:
</code></pre>
<p>startTime = sv.get(&ldquo;StartTime&rdquo;, 0)
   multiplier = sv.get(&ldquo;Multiplier&rdquo;, 0)</p>
<p>if multiplier &lt;= 0:  # 0.0x SV or negative SV
       # Similar to BPM, osu! can&rsquo;t handle 0x or negative SV values, which is why
       # I&rsquo;m substituting it with a very low value (0.00000001â€¬x). osu! clamps
       # all SV values between 0.01x-10x, so putting -10e10 instead of -10e4
       # doesn&rsquo;t <em>really</em> make a difference. That could change with lazer though
       # so I&rsquo;m keeping it in.
       svValue = -10e10</p>
<p>else:
       svValue = -100 / multiplier</p>
<p>lines.append(f&rdquo;{startTime},{svValue},0,0,0,{hitSoundVolume},0,0&rdquo;)</p>
<pre><code># I'm running through all uninherited points, then all inherited points,
# which means that the lines aren't chronologically sorted.
# osu! doesn't care about the order of the timing points though, so
# I'm not sorting it.

return "\n".join(lines)
</code></pre>
<h1>### Hit Objects</h1>
<p>def convertHitObjects(qua: object) -&gt; str:
Generates the [HitObjects] section of the .osu</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <pre><code>lines = ["[HitObjects]"]

# Mode is provided either as "Keys4" or "Keys7", so this
# extracts the number 4 or 7
numberOfColumns = int(qua["Mode"][-1:])

for hitObject in qua["HitObjects"]:
</code></pre>
<p>startTime = hitObject.get(&ldquo;StartTime&rdquo;, 0)
   lane = hitObject.get(&ldquo;Lane&rdquo;, 0)</p>
<p># osu! uses the x-coordinate to determine the
   # column, the max width of the osu playfield is 512
   xPos = math.floor((lane / numberOfColumns) * 512) - 64</p>
<p># y-coordinate is unused so default is set to 192, half of
   # osu!s max height
   yPos = 192</p>
<p># Bitwise enum
   hsBits = 0</p>
<p># Don&rsquo;t ask me how, but I&rsquo;ve had hitsound values of -15 already, even though
   # anything other than a comma-seperated string shouldn&rsquo;t even be possible
   if &ldquo;HitSound&rdquo; in hitObject and not isinstance(hitObject[&ldquo;HitSound&rdquo;], int):
       hitSounds = hitObject[&ldquo;HitSound&rdquo;].split(&ldquo;, &ldquo;)</p>
<pre><code>   for hitSound in hitSounds:
       hsBits += HIT_SOUNDS[hitSound]
</code></pre>
<p># Is Normal note
   if &ldquo;EndTime&rdquo; not in hitObject:
       line = f&rdquo;{xPos},{yPos},{startTime},1,{hsBits},0:0:0:0:&rdquo;</p>
<p># LN
   else:
       endTime = hitObject[&ldquo;EndTime&rdquo;]
       line = f&rdquo;{xPos},{yPos},{startTime},128,{hsBits},{endTime}:0:0:0:0:&rdquo;</p>
<p>lines.append(line)</p>
<pre><code>return "\n".join(lines)
</code></pre>
<h1>### Mapset</h1>
<p>def convertQua2Osu(fileContent: str, options: object) -&gt; str:
Converts a .qua beatmap file to a .osu beatmap file</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <pre><code>qua = loadQua(fileContent)

osu = "\n\n".join([
</code></pre>
<p>&rdquo;// This map was converted using qua2osu&rdquo;,
   &ldquo;osu file format v14&rdquo;,
   convertGeneral(qua, options),
   convertEditor(),
   convertMetadata(qua),
   convertDifficulty(qua, options),
   convertEvents(qua),
   convertTimingPoints(qua, options),
   convertHitObjects(qua)
    ])</p>
<pre><code># Extra empty line at the bottom to help some tools
# who expect one (like the R programming language)
return osu + "\n"
</code></pre>
<p>def convertMapset(path: str, outputFolder: str, options) -&gt; None:
Converts a whole .qp mapset to a .osz mapset</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      <pre><code># Prefixing with "q_" to prevent osu from showing the wrong preview
# backgrounds, because it takes the folder number to
# choose the background for whatever reason
folderName = "q_" + os.path.basename(path).replace(".qp", "")
outputPath = os.path.join(outputFolder, folderName)

# Opens the .qp (.zip) mapset file and extracts it into a folder in the same directory
with zipfile.ZipFile(path, "r") as oldDir:
</code></pre>
<p>oldDir.extractall(outputPath)</p>
<pre><code># Converts each .qua difficulty file
for file in os.listdir(outputPath):
</code></pre>
<p>filePath = os.path.join(outputPath, file)</p>
<p># Replaces each .qua file with the converted .osu file
   if file.endswith(&ldquo;.qua&rdquo;):</p>
<pre><code>   with open(filePath, "r") as openedFile:
       fileContent = openedFile.read()
       osu = convertQua2Osu(fileContent, options)

       with open(filePath.replace(".qua", ".osu"), "w+") as newFile:
           newFile.write(osu)

   os.remove(filePath)

# Creates a new .osz (.zip) mapset file
with zipfile.ZipFile(outputPath + ".osz", "w") as newDir:
</code></pre>
<p>for root, dirs, files in os.walk(outputPath):
       for file in files:
           newDir.write(os.path.join(root, file), file)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
